<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/basic.html}">

<style>
    body {
        background-color: white;
    }

    /* .carousel-container {
        position: relative;
    }

    .carousel-inner {
        display: flex;
        flex-direction: row;
    }

    .carousel-item {
        display: flex;
        flex: 0 0 100%;
        justify-content: center;
    } */

    .card-deck {
        display: flex;
        justify-content: space-between;
        width: 100%;
    }

    .card {
        flex: 0 0 23%; /* 카드 크기 설정 */
        height: 200px;
        cursor: pointer;
    }

    .carousel-control-prev,
    .carousel-control-next {
        position: absolute;
        top: 63%;
        transform: translateY(-50%);
        z-index: 5;
        background-color: rgba(0, 0, 0, 0.5); /* 버튼 배경색 추가 */
        border-radius: 50%;
        width: 40px; /* 버튼 크기 */
        height: 40px; /* 버튼 크기 */
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .carousel-control-prev {
        left: -25px;
    }

    .carousel-control-next {
        right: -25px;
    }

    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        /* 아이콘 색상 */
        /* background-color: white; */
        border-radius: 50%;
        width: 20px;
        height: 20px;
        color: black;
    }

    .notice-container {
        font-size: 20px;
        font-weight: bold;
        padding: 10px;
        /* background-color: #f8d7da; */
        /* color: #721c24; */
        text-align: center;
        border-radius: 5px;
        margin: 20px 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 50px;
        position: relative;
    }

    .notice-text {
        position: absolute;
        opacity: 0;
        transition: opacity 1s ease-in-out;
        width: 100%; /* 넓이를 100%로 설정하여 가운데 정렬 */
        text-align: center;
    }

    .notice-text.show {
        opacity: 1;
    }
</style>
</head>

<div layout:fragment="index">
    <body>
    <!-- 메인 start -->
    <main>
        <div class="container mt-5">
            <div>
                <hr>
                <div class="notice-container">
                    <div class="notice-text show">공지사항 > 시스템 점검 예정입니다.</div>
                    <div class="notice-text">공지사항 > 이벤트가 곧 시작됩니다!</div>
                    <div class="notice-text">공지사항 > 새로운 기능이 추가되었습니다!</div>
                </div>
                <hr>
            </div>
            <div class="container mt-5">
                <!-- 공고 카드 슬라이드 -->
                <div id="announcementCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
                    <div style="display: flex; align-items: center; justify-content: space-around;">
                        <h2>채용 소식</h2>
                        <div style="width: 1000px;">
                        </div>
                        <span><a href="recurit.html" style="text-decoration: none; color: black;">전체보기 ></a></span>
                    </div>

                    <br>
                    <div class="carousel-inner" id="announcementItems">
                        <!-- 첫 번째 슬라이드 (1~4번 공고) -->
                        <div class="carousel-item active">
                            <div class="card-deck">
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고1">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 1</h5>
                                        <p class="card-text">상세 설명 1</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고2">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 2</h5>
                                        <p class="card-text">상세 설명 2</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고3">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 3</h5>
                                        <p class="card-text">상세 설명 3</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고4">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 4</h5>
                                        <p class="card-text">상세 설명 4</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 두 번째 슬라이드 (5~8번 공고) -->
                        <div class="carousel-item">
                            <div class="card-deck">
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고5">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 5</h5>
                                        <p class="card-text">상세 설명 5</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고6">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 6</h5>
                                        <p class="card-text">상세 설명 6</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고7">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 7</h5>
                                        <p class="card-text">상세 설명 7</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="공고8">
                                    <div class="card-body">
                                        <h5 class="card-title">공고 8</h5>
                                        <p class="card-text">상세 설명 8</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 이전 버튼 -->
                    <a class="carousel-control-prev" href="#announcementCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>

                    <!-- 다음 버튼 -->
                    <a class="carousel-control-next" href="#announcementCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
                <br>
                <hr>
                <!-- 강사 카드 슬라이드 -->
                <div id="instructorCarousel" class="carousel slide mt-5" data-ride="carousel" data-interval="false">
                    <div style="display: flex; align-items: center; justify-content: space-around;">
                        <h2>강사 소식</h2>
                        <div style="width: 1000px;">
                        </div>
                        <span><a href="trainer.html" style="text-decoration: none; color: black;">전체보기 ></a></span>
                    </div>
                    <br>
                    <div class="carousel-inner" id="instructorItems">
                        <!-- 첫 번째 슬라이드 (1~4명 강사) -->
                        <div class="carousel-item active">
                            <div class="card-deck">
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사1">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 1</h5>
                                        <p class="card-text">강사 1의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사2">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 2</h5>
                                        <p class="card-text">강사 2의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사3">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 3</h5>
                                        <p class="card-text">강사 3의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사4">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 4</h5>
                                        <p class="card-text">강사 4의 설명</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 두 번째 슬라이드 (5~8명 강사) -->
                        <div class="carousel-item">
                            <div class="card-deck">
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사5">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 5</h5>
                                        <p class="card-text">강사 5의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사6">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 6</h5>
                                        <p class="card-text">강사 6의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사7">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 7</h5>
                                        <p class="card-text">강사 7의 설명</p>
                                    </div>
                                </div>
                                <div class="card">
                                    <img src="https://via.placeholder.com/150" class="card-img-top" alt="강사8">
                                    <div class="card-body">
                                        <h5 class="card-title">강사 8</h5>
                                        <p class="card-text">강사 8의 설명</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 이전 버튼 -->
                    <a class="carousel-control-prev" href="#instructorCarousel" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>

                    <!-- 다음 버튼 -->
                    <a class="carousel-control-next" href="#instructorCarousel" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>


            <br>
            <br>
    </main>
    <!-- 메인 end  -->

    <!-- FontAwesome CDN (아이콘 사용을 위한 링크) -->
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
    <!-- bootstrap js -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script>
        // 공지사항 JS ---- //
        const notices = document.querySelectorAll('.notice-text');
        let noticeCurrentIndex = 0;

        function changeNotice() {
            // 현재 보이는 공지사항 숨기기
            notices[noticeCurrentIndex].classList.remove('show');
            // 다음 공지사항 표시
            noticeCurrentIndex = (noticeCurrentIndex + 1) % notices.length;
            notices[noticeCurrentIndex].classList.add('show');
        }

        // 5초 간격으로 changeNotice 함수 실행
        setInterval(changeNotice, 5000);


        // 채용 소식 JS ---- //
        let currentIndex = 0;  // 현재 슬라이드 인덱스 (0부터 시작)
        const totalSlides = 2;  // 슬라이드 총 개수 (4개씩 공고 표시)

        // 이전 버튼 클릭 시
        document.getElementById("prevBtn").addEventListener("click", function () {
            if (currentIndex > 0) {
                currentIndex--;
                updateCarousel();
            }
        });

        // 다음 버튼 클릭 시
        document.getElementById("nextBtn").addEventListener("click", function () {
            if (currentIndex < totalSlides - 1) {
                currentIndex++;
                updateCarousel();
            }
        });

        // 슬라이드 업데이트 함수
        function updateCarousel() {
            const items = document.querySelectorAll(".carousel-item");
            // 모든 슬라이드를 숨기고
            items.forEach(item => item.classList.remove("active"));
            // 현재 인덱스에 해당하는 슬라이드만 활성화
            items[currentIndex].classList.add("active");
        }

        // 강사 소식 JS--------//

        let currentAnnouncementIndex = 0;
        const totalAnnouncementSlides = 2;

        // 이전 버튼 클릭 시
        document.getElementById("prevAnnouncementBtn").addEventListener("click", function () {
            if (currentAnnouncementIndex > 0) {
                currentAnnouncementIndex--;
                updateCarousel('announcement');
            }
        });

        // 다음 버튼 클릭 시
        document.getElementById("nextAnnouncementBtn").addEventListener("click", function () {
            if (currentAnnouncementIndex < totalAnnouncementSlides - 1) {
                currentAnnouncementIndex++;
                updateCarousel('announcement');
            }
        });

        // 강사 슬라이드 제어
        let currentInstructorIndex = 0;
        const totalInstructorSlides = 2;

        // 이전 버튼 클릭 시
        document.getElementById("prevInstructorBtn").addEventListener("click", function () {
            if (currentInstructorIndex > 0) {
                currentInstructorIndex--;
                updateCarousel('instructor');
            }
        });

        // 다음 버튼 클릭 시
        document.getElementById("nextInstructorBtn").addEventListener("click", function () {
            if (currentInstructorIndex < totalInstructorSlides - 1) {
                currentInstructorIndex++;
                updateCarousel('instructor');
            }
        });

        // 슬라이드 업데이트 함수
        function updateCarousel(type) {
            const carouselId = type === 'announcement' ? "announcementItems" : "instructorItems";
            const items = document.querySelectorAll(`#${carouselId} .carousel-item`);

            // 모든 슬라이드를 숨기고
            items.forEach(item => item.classList.remove("active"));
            // 현재 인덱스에 해당하는 슬라이드만 활성화
            items[type === 'announcement' ? currentAnnouncementIndex : currentInstructorIndex].classList.add("active");
        }
    </script>
    </body>
    <div th:replace="~{/main/foot/footer}"></div>
</div>

</html>