<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/basic.html}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneFit - Í±∞ÎûòÍ∏Ä Î≥¥Í∏∞(Í∏∞Íµ¨)</title>
    <link rel="stylesheet" th:href="@{/css/transaction/transa_read.css}">
    <link rel="stylesheet" th:href="@{/css/pagination.css}">
</head>

<body>

<!-- Î©îÏù∏ start -->
<div layout:fragment="transa_eq_read">
    <div class="container mt-5">
        <div class="card">
            <div class="card-header p-3 d-flex justify-content-between align-items-center">
                <h2 class="card-title mb-0">
                <span class="status-span"
                      th:text="${dto.pStatus}"
                      th:class="${dto.pStatus == 'ÌåêÎß§Ï§ë' ? 'text-success' : (dto.pStatus == 'ÏòàÏïΩÏ§ë' ? 'text-primary' : (dto.pStatus == 'ÌåêÎß§ÏôÑÎ£å' ? 'text-muted' : ''))}">
                </span>&nbsp;&nbsp;[[${dto.pTitle}]]

                </h2>
                <div class="d-flex flex-column">
                    <!-- ÏàòÏ†ï ÏÇ≠Ï†ú ÏºÄÎ∞• Î©îÎâ¥ -->
                    <button class="btn btn-light border-0 float-end ms-auto"
                            type="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-three-dots"></i>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" th:href="|@{/transaction/transa_eq_modify(productId=${dto.productId})}&${link}|">
                            ÏàòÏ†ïÌïòÍ∏∞
                        </a></li>
                        <li><a class="dropdown-item text-danger" href="#">ÏÇ≠Ï†úÌïòÍ∏∞</a></li>
                    </ul>
                    <!-- Í≤åÏãúÍ∏Ä ÏûëÏÑ±Ïùº -->
                    <span class="text-muted float-end mt-2">
                        [[${#temporals.format(dto.modDate,'yyyy-MM-dd a hÏãú mmÎ∂Ñ')}]]
                    </span>
                </div>
            </div>
            <div class="card-body">
                <!-- Î∏åÎ†àÎìúÌÅ¨Îüº -->
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb breadcrumb-container">
                        <li class="breadcrumb-item"><a href="#">Ìôà</a></li>
                        <li class="breadcrumb-item"><a href="#">Í±∞Îûò</a></li>
                        <li class="breadcrumb-item"><a href="#">Í∏∞Íµ¨</a></li>
                        <li class="breadcrumb-item"><a href="#">[[${dto.cCategory}]]</a></li>
                        <!-- <li class="breadcrumb-item active" aria-current="page">Í≤åÏãúÍ∏Ä Îì±Î°ù</li> -->
                    </ol>
                </nav>


                <!-- Îß§Î¨º Ïù¥ÎØ∏ÏßÄ -->
                <div class="row mb-3 justify-content-center ms-auto img-info-container">
                    <div class="col-12 col-md-6">
                        <!-- Îß§Î¨º Ïù¥ÎØ∏ÏßÄ Ïä¨ÎùºÏù¥Îìú -->
                        <div id="productCarousel" class="carousel slide" data-bs-ride="carousel">

                            <div class="carousel-inner" th:if="${dto.imageFileNames != null && dto.imageFileNames.size() > 0}">
                                <div th:each="imageName, stat: ${dto.imageFileNames}" class="carousel-item" th:classappend="${stat.first} ? ' active' : ''">
                                    <div class="carousel-img-container">
                                        <img th:src="|/view_transa/${imageName}|"
                                             class="d-block w-100 h-100 carousel-img"
                                             th:alt="${imageName}" onclick="openModal(this)">
                                    </div>
                                </div>
                            </div>

                            <!-- Ïù¥Ï†Ñ, Îã§Ïùå Î≤ÑÌäº -->
                            <button class="carousel-control-prev" type="button" data-bs-target="#productCarousel"
                                    data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#productCarousel"
                                    data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>

                        <!-- Ïù¥ÎØ∏ÏßÄ Ï†ÑÏ≤¥ Î≥¥Í∏∞ Î™®Îã¨ -->
                        <div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="btn-close" id="closeModalBtn"></button>
                                    </div>
                                    <div class="modal-body text-center">
                                        <img id="modalImage" src="" class="img-fluid rounded">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ÌîÑÎ°úÌïÑ Ï†ïÎ≥¥ -->
                        <div class="d-flex align-items-center mt-3">
                            <!-- ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ -->
                            <img src="/image/transaction/profile-1.jpg" alt="ÌîÑÎ°úÌïÑ Ïù¥ÎØ∏ÏßÄ"
                                 class="profile-img me-3 rounded-circle">

                            <!-- ÎãâÎÑ§ÏûÑ Î∞è Ï∂îÍ∞Ä Ï†ïÎ≥¥ -->
                            <div>
                                <h6 class="mb-1 fw-bold">[[${dto.allId}]]</h6>
                                <p class="mb-0 text-muted">Í∞úÏù∏ ÌöåÏõê</p>
                            </div>
                        </div>
                    </div>


                    <div class="col-12 col-md-6 read-info">
                        <!-- Í∞ÄÍ≤© -->
                        <h3 class="price-text">
                            <span th:text="${#numbers.formatInteger(dto.pPrice, 1, 'COMMA')}"></span>
                            Ïõê
                        </h3>
                        <table class="table table-borderless mt-3">
                            <tbody>
                            <tr>
                                <th>Ï†úÌíàÎ™Ö</th>
                                <td>[[${dto.eName}]]</td>
                            </tr>
                            <tr>
                                <th>Ï†úÌíà ÏÉÅÌÉú</th>
                                <td>[[${dto.eStatus}]]</td>
                            </tr>
                            <tr>
                                <th>Ï†úÏ°∞ÏÇ¨</th>
                                <td>[[${dto.eBrand}]]</td>
                            </tr>
                            <tr>
                                <th>Íµ¨Îß§Í∞Ä</th>
                                <td>
                                    <span th:text="${#numbers.formatInteger(dto.ePurPrice, 1, 'COMMA')}"></span>
                                    Ïõê
                                </td>
                            </tr>
                            <tr>
                                <th>A/S Í∞ÄÎä•Ïó¨Î∂Ä</th>
                                <td>[[${dto.eAs}]]</td>
                            </tr>
                            <tr>
                                <th>Í±∞Îûò Ïû•ÏÜå</th>
                                <td>[[${dto.pAddr}]]</td>
                            </tr>
                            <tr>
                                <th>ÏÇ¨Ïö©Í∏∞Í∞Ñ</th>
                                <td><span>[[${dto.eUseStart}]]</span> ~ <span>[[${dto.eUseEnd}]]</span></td>
                            </tr>
                            </tbody>
                        </table>
                        <h4 class="content-title">ÌåêÎß§ÎÇ¥Ïö©</h4>
                        <div class="content p-3 border rounded overflow-auto">[[${dto.pContent}]]
                        </div>
                        <div class="mt-4 d-flex justify-content-center align-items-center">
                                <span class="like">
                                    <!-- <i class="fa-solid fa-heart"></i> -->
                                    <i class="fa-regular fa-heart"></i>
                                </span>
                            <button class="btn w-100 ms-auto m-0" id="chatButton"
                                    th:attr="data-link=${dto.pChatUrl}" onclick="openChatPopup()">
                                <i class="fas fa-comment kakao-rogo"></i>&nbsp;&nbsp;Ïò§ÌîàÏ±ÑÌåÖ Î∞îÎ°úÍ∞ÄÍ∏∞
                            </button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>

    <div class="container mt-4">
        <h5 class="fw-bold">ÎåìÍ∏Ä <span class="text-primary">1</span></h5>
        <div class="card p-3 border-0">
            <!-- ÎåìÍ∏Ä ÏûÖÎ†•Ï∞Ω -->
            <div class="d-flex align-items-center mb-3">
                <img src="/image/transaction/profile-2.jpg" class="rounded-circle me-2 profile-img" alt="ÌîÑÎ°úÌïÑ">
                <input type="text" class="form-control rounded-pill" placeholder="ÎåìÍ∏ÄÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...">
                <button class="btn btn-primary ms-2 rounded-pill px-3 reply-btn">Îì±Î°ù</button>
            </div>
            <hr>

            <!-- Í∞úÎ≥Ñ ÎåìÍ∏Ä -->
            <div class="d-flex align-items-start mb-3">
                <img src="/image/transaction/profile-2.jpg" class="rounded-circle me-2 profile-img" alt="ÌîÑÎ°úÌïÑ">
                <div class="w-100">
                    <div class="d-flex justify-content-between">
                        <strong>ÌôçÍ∏∏Îèô</strong>
                        <small class="text-muted">2ÏãúÍ∞Ñ Ï†Ñ</small>
                    </div>
                    <p class="mb-1">Ï¢ãÏùÄ Ï†ïÎ≥¥ Í∞êÏÇ¨Ìï©ÎãàÎã§! üòä</p>
                    <div class="d-flex align-items-center">
                        <!-- <button class="btn btn-light btn-sm me-2"><i class="fa-regular fa-thumbs-up"></i> 5</button> -->
                    </div>
                </div>
            </div>

            <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò start -->
            <div class="row">
                <ul class="pagination justify-content-center">
                    <a href="#" class="is-deactive">
                        <li class="pagearrow leftarrow">&lt;</li>
                    </a>
                    <a href="#" class="is-active">
                        <li class="pageitem">1</li>
                    </a>
                    <a href="#">
                        <li class="pageitem">2</li>
                    </a>
                    <a href="#">
                        <li class="pageitem">3</li>
                    </a>
                    <a href="#">
                        <li class="pageitem">4</li>
                    </a>
                    <a href="#">
                        <li class="pagearrow rightarrow">&gt;</li>
                    </a>
                </ul>
            </div>
            <!-- ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò end -->
        </div>
    </div>
    <!-- ÎåìÍ∏Ä end  -->
    <!-- JS Í∏∞Îä• Ï∂îÍ∞Ä -->
    <script th:src="@{/js/transaction/transa_read.js}"></script>
</div>

</body>

</html>